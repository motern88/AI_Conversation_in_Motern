## MAS界面完善补充说明

记录一些可以完善的点





### 1. 更明显的全局消息提示

当前端界面绑定人类操作端后，该人类操作端出现全局消息时:
![image-20250818105653152](/C:/Users/20212/AppData/Roaming/Typora/typora-user-images/image-20250818105653152.png)

期望有更明显的提示，例如整个界面的上方出现一行这个全局消息内容，同时这个消息内容出现后仅停留1.2秒就渐变消失？



### 2. 超链接生成支持全部四种状态

目前没法将 ”任意状态的完整信息弹窗“  拖动到 输入框中，生成包含相应状态ID的超链接标签。
目前仅支持将任意“头像”拖动到输入框中，生成代表该状态的超链接标签。

> 将任意完整信息弹窗对应的状态（任务状态，阶段状态，步骤状态）等拖动以生成超链接的拖动过程可能和
>
> 窗口合并的拖动过程一致：
>
> <img src="./asset/完整信息弹窗_窗口合并2.jpg" alt="完整信息弹窗_窗口合并2" style="zoom:10%;" />
>
> <img src="./asset/完整信息弹窗_窗口合并4.jpg" alt="完整信息弹窗_窗口合并4" style="zoom:10%;" />
>
> <img src="./asset/完整信息弹窗_窗口合并6.jpg" alt="完整信息弹窗_窗口合并6" style="zoom:10%;" />
>
> 该拖动过程中间可以生成一个虚拟化的缩略图标（代表对应的状态）跟随鼠标拖动轨迹。这样能够兼容：
>
> - 窗口合并的拖动展示
> - 窗口拖动到文本框生成超链接的拖动展示



### 3. 超链接在文本框中高亮

![image-20250818120921331](/C:/Users/20212/AppData/Roaming/Typora/typora-user-images/image-20250818120921331.png)

![image-20250818120939053](/C:/Users/20212/AppData/Roaming/Typora/typora-user-images/image-20250818120939053.png)



在文本输入框中的超链接，我们也希望它能够高亮

例如，当实际一个Agent的超链接在文本输入框中生成时，文本输入框最终会输出的内容：

> 你好，<agent_id>4d68f8ca-b074-4a3c-8f3d-5755f177fa86</agent_id>

在用户看到的展示中则为：

> 你好，<span style="color:darkgoldenrod">[MAS系统管理者]灰风</span>



**文本输入框中删除超链接逻辑**

当用户在超链接后面不断按下删除键时：

> 你好，<span style="color:darkgoldenrod">[MAS系统管理者]灰风</span>

超链接的源文本被不断删除：

> 你好，<agent_id>4d68f8ca-b074-4a3c-8f3d-5755f177fa86</ag
>
> 你好，<agent_id>4d68f8ca-b074-4a3c-8f3d-5755f177
>
> 你好，<agent_id>4d68f8ca
>
> 你好，<age
>
> 你好，

当删除源文本破坏时，自动破坏了用户看到的超链接展示格式，而暴露出超链接源代码

通过删除键，当超链接不再构成<agent_id></agent_id>格式的时候，自动会展示/暴露超链接的源代码。

这样的删除逻辑是顺畅自然的。



### 4. 聊天窗口中任务信息与显示信息筛选

MAS界面示意图中 T6-D0 部分：

![image-20250818121126863](/C:/Users/20212/AppData/Roaming/Typora/typora-user-images/image-20250818121126863.png)

其中 E_0 元素 对应图中的 ”不与任何阶段相关“ 一栏。

这一栏的呈现方式可以是 图标+文字说明 表达其为默认说明而非某个真正的阶段的意图内容

例如文字说明可以是深色字体的：`【不属于任何阶段的Agent】`



### 5. 聊天框发送消息类型按钮

![image-20250818122401429](/C:/Users/20212/AppData/Roaming/Typora/typora-user-images/image-20250818122401429.png)

字体：字有点糊，但是不知道怎么解决

颜色：

灰色希望再浅一点
黄色希望再浅一点
红色希望再亮一点





### 6. Human-Agent的对话消息与右侧绑定的消息管理统一

![image-20250818143129688](/C:/Users/20212/AppData/Roaming/Typora/typora-user-images/image-20250818143129688.png)

Agent完整消息弹窗（左） 和 右侧次要工作区绑定人类操作端后的消息管理（右） 应当显示相同的内容—— Human-Agent自身状态中的对话消息

两者都应当包含私聊消息和群聊消息。这里右侧少了群聊消息。

> 群聊消息并不显示存储在每个HumanAgent的状态中，而是只要这个HumanAgent参与了某个任务，则我们都应当提供该任务群聊的入口。任务群聊消息在任务的状态中维护。
